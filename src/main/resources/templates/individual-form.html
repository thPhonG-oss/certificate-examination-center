<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Individual Registration Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body class="bg-light">
<div class="container py-5">
    <h2 class="text-center mb-4">Certificate Examination Registration</h2>

    <form id="registrationForm" class="needs-validation" novalidate>
        <!-- Customer (Parent/Guardian) Information -->
        <div class="card mb-4">
            <div class="card-header bg-primary text-white">
                Thông tin khách hàng
            </div>
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="customerName" class="form-label required">Họ và tên</label>
                        <input type="text" class="form-control" id="customerName" required>
                    </div>
                    <div class="col-md-6">
                        <label for="customerEmail" class="form-label required">Email</label>
                        <input type="email" class="form-control" id="customerEmail" required>
                    </div>
                    <div class="col-md-6">
                        <label for="customerPhone" class="form-label required">Số điện thoại</label>
                        <input type="tel" class="form-control" id="customerPhone" required>
                    </div>
                    <div class="col-md-6">
                        <label for="customerCitizenId" class="form-label required">Số căn cước công dân</label>
                        <input type="text" class="form-control" id="customerCitizenId" required>
                    </div>
                    <div class="col-md-6">
                        <label for="customerDob" class="form-label required">Ngày sinh</label>
                        <input type="date" class="form-control" id="customerDob" required>
                    </div>
<!--                    <div class="col-md-6">-->
<!--                        <label for="organization" class="form-label">-->
<!--                            Organization-->
<!--&lt;!&ndash;                            <small class="text-danger d-block" style="font-size: 0.75em; font-style: italic;">&ndash;&gt;-->
<!--&lt;!&ndash;                                (vui lòng không điền nếu là khách hàng cá nhân)&ndash;&gt;-->
<!--&lt;!&ndash;                            </small>&ndash;&gt;-->
<!--                        </label>-->
<!--                        <input type="text" class="form-control" id="organization">-->
<!--                    </div>-->
                    <div class="col-12">
                        <label for="customerAddress" class="form-label required">Địa chỉ</label>
                        <textarea class="form-control" id="customerAddress" rows="2" required></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Candidate (Child/Student) Information -->
        <div class="card mb-4">
            <div class="card-header bg-success text-white">
                Thông tin thí sinh
            </div>
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="candidateName" class="form-label required">Họ và tên</label>
                        <input type="text" class="form-control" id="candidateName" required>
                    </div>
                    <div class="col-md-6">
                        <label for="candidateGender" class="form-label required">Giới tính</label>
                        <select class="form-select" id="candidateGender" required>
                            <option value="">Choose...</option>
                            <option value="M">Male</option>
                            <option value="F">Female</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="candidateEmail" class="form-label required">Email</label>
                        <input type="email" class="form-control" id="candidateEmail" required>
                    </div>
                    <div class="col-md-6">
                        <label for="candidatePhone" class="form-label required">Số điện thoại</label>
                        <input type="tel" class="form-control" id="candidatePhone" required>
                    </div>
                    <div class="col-md-6">
                        <label for="candidateDob" class="form-label required">Ngày sinh</label>
                        <input type="date" class="form-control" id="candidateDob" required>
                    </div>
                    <div class="col-md-6">
                        <label for="candidateCitizenId" class="form-label required">Số căn cước công dân</label>
                        <input type="text" class="form-control" id="candidateCitizenId" required>
                    </div>
                    <div class="col-12">
                        <label for="candidateAddress" class="form-label required">Địa chỉ</label>
                        <textarea class="form-control" id="candidateAddress" rows="2" required></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Schedule Selection -->
        <div class="card mb-4">
            <div class="card-header bg-info text-white">
                Thông tin lịch thi
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th>Select</th>
                            <th>Ngày thi</th>
                            <th>Giờ thi</th>
                            <th>Chứng chỉ</th>
                            <th>Số lượng đăng ký</th>
                        </tr>
                        </thead>
                        <!-- Replace the existing table body with this -->
                        <tbody>
                        <tr th:each="schedule : ${schedules}" th:id="${'schedule-' + schedule.id}">
                            <td>
                                <input type="checkbox" name="scheduleId" th:value="${schedule.id}"
                                       class="form-check-input schedule-checkbox"
                                       th:data-certificate-id="${schedule.certificateId}"
                                       th:data-date="${schedule.date}"
                                       th:data-time="${schedule.time}"
                                       th:data-current="${schedule.currentParticipants}"
                                       th:data-max="${schedule.maxParticipants}">
                            </td>
                            <td th:text="${#temporals.format(schedule.date, 'dd/MM/yyyy')}"></td>
                            <td th:text="${#temporals.format(schedule.time, 'HH:mm')}"></td>
                            <td th:text="${schedule.certificateName}"></td>
                            <td th:text="${schedule.currentParticipants + '/' + schedule.maxParticipants}"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="text-center">
            <button type="submit" class="btn btn-primary btn-lg px-5">Submit Registration</button>
        </div>
    </form>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/script.js}"></script>
</body>
</html>